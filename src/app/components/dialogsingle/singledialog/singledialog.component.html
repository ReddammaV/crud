<div class="container">
    <div class="col-md-12">
        <h2> Products</h2>
        <button class="btn btn-primary mb-4 float-right" (click)="openModal(template)"> Add Product</button>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="hidden">Id</th>
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>Email</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let product of products; let i=index">
                    <td>{{i+1}}</td>
                    <td>{{product.firstName}}</td>
                    <td>{{product.lastName}}</td>
                    <td>{{product.email}}</td>
                    <td>
                        <!-- <button class="btn btn-warning" (click)="editProduct(product)" style="margin-left: 20px;">
                            Edit</button> -->
                            <button class="btn btn-warning" (click)="editProduct(product.id, template)" style="margin-left: 20px;">
                                Edit</button>
                        <button class="btn btn-danger" (click)="deleteProduct(product)" style="margin-left: 20px;">
                            Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- modal start -->
<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Add Product</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <!-- form start -->
        <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="email">Email address:</label>
                <input type="email" formControlName="email" placeholder="Email" name="email" class="form-control"
                    id="email">
            </div>

            <div class="form-group">
                <label for="firstName">First Name:</label>
                <input formControlName="firstName" placeholder="First Name" name="firstName" class="form-control"
                    id="firstName">
            </div>

            <div class="form-group">
                <label for="lastName">Last Name:</label>
                <input formControlName="lastName" placeholder="Last name" name="lastName" class="form-control"
                    id="lastName">
            </div>

            <button class="btn btn-success">{{message}}</button>
        </form>
        <!-- form end -->
    </div>
</ng-template>